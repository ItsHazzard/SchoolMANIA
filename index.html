<!DOCTYPE html>
<html lang="en">

<head>
  <meta<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>SchoolMANIA</title>
  <link rel="icon" href="https://itshazzard.github.io/SchoolMANIA/Photos/Favicon.png" type="image/png">
  <style>
    /* Your existing styles */
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
</head>

<body>
  <div class="text-container">
    <p class="text">SchoolMANIA</p>
    <p class="sub-text">Everything You'll Need To Organise Your School Work</p>
  </div>

  <div class="btn-container">
    <button class="btn" onclick="openPopup('TIMETABLEpopup')">
      <img class="btn-icon" src="https://iili.io/HZm2B6v.png" alt="TimeTable">
      <span class="btn-text">TimeTable</span>
    </button>
    <button class="btn" onclick="openPopup('LISTpopup')">
      <img class="btn-icon" src="https://iili.io/HZm3NXn.png" alt="CheckList">
      <span class="btn-text">CheckList</span>
    </button>
  </div>

  <div class="btn-container">
    <button class="btn" onclick="openPopup('MAPpopup')">
      <img class="btn-icon" src="https://iili.io/HZm2qMJ.png" alt="Map">
      <span class="btn-text">Map</span>
    </button>
    <button class="btn" onclick="openPopup('NOTESpopup')">
      <img class="btn-icon" src="https://iili.io/HZm2Tut.png" alt="Notes">
      <span class="btn-text">Notes</span>
    </button>
  </div>

  <!-- Popup containers -->
  <div class="popup-container" id="TIMETABLEpopup">
    <div class="popup-content">
      <span class="close-btn-popup" onclick="closePopup('TIMETABLEpopup')">&#10006;</span>
      <h1>TimeTable</h1>
      <!-- Buttons for Monday-Friday -->
      <div class="btn-container">
        <button class="btn" onclick="openSubPopup('Monday')">Monday</button>
        <button class="btn" onclick="openSubPopup('Tuesday')">Tuesday</button>
        <button class="btn" onclick="openSubPopup('Wednesday')">Wednesday</button>
        <button class="btn" onclick="openSubPopup('Thursday')">Thursday</button>
        <button class="btn" onclick="openSubPopup('Friday')">Friday</button>
      </div>
    </div>
  </div>

  <!-- Sub Popup containers -->
  <div class="popup-container" id="subPopup">
    <div class="popup-content">
      <span class="close-btn-popup" onclick="closePopup('subPopup')">&#10006;</span>
      <h1 id="subPopupTitle">Day</h1>
      <div class="color-boxes">
        <div class="color-box red" onclick="openEditableText('Subject1')">Subject 1</div>
        <div class="color-box green" onclick="openEditableText('Subject2')">Subject 2</div>
        <div class="color-box blue" onclick="openEditableText('Subject3')">Subject 3</div>
        <!-- Add more subjects as needed -->
      </div>
      <textarea class="notes-textbox" id="editableText"></textarea>
    </div>
  </div>

  <!-- Your existing popups -->

  <script>
    const editableText = document.getElementById('editableText');

    if (localStorage.getItem('savedText')) {
      editableText.value = localStorage.getItem('savedText');
    }

    editableText.addEventListener('input', function () {
      localStorage.setItem('savedText', this.value);
    });

    function openSubPopup(day) {
      const subPopup = document.getElementById('subPopup');
      const subPopupTitle = document.getElementById('subPopupTitle');
      subPopupTitle.textContent = day;
      subPopup.style.display = 'block';
      document.addEventListener('keydown', handleEscapeKey);
    }

    function openEditableText(subject) {
      const editableText = document.getElementById('editableText');
      editableText.value = localStorage.getItem(subject) || '';
      openSubPopup(subject);
    }

    function openPopup(popupId) {
      document.getElementById(popupId).style.display = 'block';
      document.addEventListener('keydown', handleEscapeKey);
    }

    function closePopup(popupId) {
      document.getElementById(popupId).style.display = 'none';
      document.removeEventListener('keydown', handleEscapeKey);
    }

    function handleEscapeKey(event) {
      if (event.keyCode === 27) {
        closePopup('TIMETABLEpopup');
        closePopup('LISTpopup');
        closePopup('MAPpopup');
        closePopup('NOTESpopup');
      }
    }
  </script>
</body>

</html>